<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Proyecto Gantt</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link href="src/style.css" rel="stylesheet" />
  </head>
  <body>
    <!-- Barra de acciones del proyecto -->
    <!--
    <div class="container my-3">
      <div id="print-header">
        <img src="/logo.png" alt="Logo institucional" />
        <h1>Informe del Proyecto</h1>
        <div id="print-date"></div>
      </div>
    </div>
  -->
  <!-- T√≠tulo del Proyecto -->
  <div id="project-header" class="container my-4">
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <h1 id="project-title" class="mb-0">Proyecto</h1>
      <p id="project-subtitle" class="text-muted"></p>
    </div>
    <button
      id="edit-title-button"
      class="btn btn-outline-secondary btn-sm"
      title="Editar t√≠tulo del proyecto"
    >
      ‚úèÔ∏è Editar
    </button>
  </div>
</div>

<!-- Modal para editar t√≠tulo y subt√≠tulo -->
<div id="editTitleModal" class="modal fade" tabindex="-1">
<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Editar</h5>
      <button type="button" class="btn-close" aria-label="Close"></button>
    </div>
    <div class="modal-body">
      <div class="mb-3">
        <label for="project-title-input" class="form-label">T√≠tulo</label>
        <input
          id="project-title-input"
          type="text"
          class="form-control"
        />
      </div>
      <div class="mb-3">
        <label for="project-subtitle-input" class="form-label">Subt√≠tulo</label>
        <input
          id="project-subtitle-input"
          type="text"
          class="form-control"
        />
      </div>
      <div class="d-flex justify-content-end">
        <button id="title-save-button" class="btn btn-primary">
          Guardar
        </button>
        <button id="title-cancel-button" class="btn btn-secondary ms-2" type="button">
          Cancelar
        </button>
      </div>
    </div>
  </div>
</div>
</div>

    <!-- Barra de acciones del proyecto -->
    <div class="container my-3">
      <div class="d-flex flex-wrap align-items-center gap-2">
        <!-- Proyecto -->
        <button id="new-project-button" class="btn btn-outline-danger btn-sm">
          üÜï Nuevo proyecto
        </button>
        <button
          id="reset-actual-start-dates"
          class="btn btn-outline-danger btn-sm"
        >
          üîÑ Reset fechas manuales
        </button>

        

        <!-- Cargar / Guardar -->
        <button
          id="load-project-button"
          class="btn btn-outline-secondary btn-sm"
        >
          üìÇ Cargar
        </button>
        <button
          id="save-project-button"
          class="btn btn-outline-secondary btn-sm"
        >
          üíæ Guardar
        </button>

        <!-- Cambiar fecha de inicio -->
        <div class="d-flex align-items-center mx-5">
          <input
            type="date"
            id="new-start-date-input"
            class="form-control form-control-sm ms-2"
          />
          <button
            id="change-start-date-button"
            class="btn btn-outline-primary btn-sm ms-2"
          >
            Cambiar inicio
          </button>
        </div>

        <!-- exportar -->
        
        <button id="export-pdf-button" class="btn btn-outline-primary btn-sm">
          üñ®Ô∏è Imprimir Informe
        </button>
      </div>
      



      <!-- Input oculto para cargar archivos -->
      <input
        type="file"
        id="load-project-file"
        accept=".json"
        style="display: none"
      />
    </div>

    <!-- Fechas del proyecto -->
    <div class="container mb-3">
      <div>
        <strong>Inicio del proyecto:</strong>
        <span id="start-date-value"></span>
      </div>
      <div>
        <strong>Final del proyecto:</strong>
        <span id="end-date-value"></span>
      </div>
    </div>

    
    </div>
  </div>
  
    <!-- Tabla de tareas -->
    <div id="task-table-container" class="container">
      <h2 class="mb-3">Tabla de Tareas</h2>
      <div class="custom_table_wrapper table-responsive">
        <table class="custom_table">
          <thead>
            <tr>
              <th style="width: 5%">ID</th>
              <th style="width: 19%">Nombre</th>
              <th style="width: 19%">Detalle</th>
              <th style="width: 7%">Duraci√≥n</th>
              <th style="width: 15%">Inicio</th>
              <th style="width: 15%">Fin</th>
              <th style="width: 10%">Dependencias</th>
              <th style="width: 10%"></th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>

      <!-- Bot√≥n Agregar -->
      <div id="add-item-container" class="my-3">
        <button id="add-item-button" class="btn btn-success">
          ‚ûï Agregar Item
        </button>
      </div>
    </div>

    <!-- Modal: Agregar -->
    <div id="addModal" class="modal fade" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Agregar Item</h5>
            <button type="button" class="btn-close" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="addForm"></form>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal: Eliminar -->
    <div id="deleteModal" class="modal fade" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Eliminar Item</h5>
            <button class="btn-close" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>¬øEst√°s seguro de eliminar este item?</p>
            <button
              type="button"
              id="delete-confirm"
              class="btn btn-sm btn-danger"
            >
              S√≠, eliminar
            </button>
            <button
              type="button"
              id="delete-cancel"
              class="btn btn-sm btn-secondary"
            >
              Cancelar
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="page-break"></div> <!-- Salto de p√°gina aqu√≠ -->
    <!-- Diagrama de Gantt -->
    <div id="gantt" class="p-3">
      <h2 class="mb-3">Diagrama de Gantt</h2>
      <div class="selector mb-3">
        <label for="scale-selector" class="form-label me-2">Escala:</label>
        <select
          id="scale-selector"
          class="form-select w-auto d-inline-block"
          aria-label="Default select example"
        >
          <option value="day">D√≠a</option>
          <option value="week">Semana</option>
          <option value="month">Mes</option>
        </select>
      </div>
      <div id="gantt-container" class="justify-content-center">
        <div id="gantt_here" class="justify-content-center"></div>
      </div>
    </div>

    <div class="page-break"></div> <!-- Salto de p√°gina aqu√≠ -->
    <!-- Caminos cr√≠ticos -->
    <div id="critical-paths" class="container my-4"></div>

    <!-- Scripts -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
